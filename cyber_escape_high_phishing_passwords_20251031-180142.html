```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>High School Cybersecurity Escape Room: Phishing & Passwords</title>
<style>
body{
  font-family: Arial, sans-serif; 
  background:#0d1b2a; 
  color:#e0e1dd; 
  margin:0;
  padding:20px;
}
h1,h2,h3{color:#00b4d8;}
.container{
  max-width:800px;
  margin:auto;
  background:#1b263b;
  padding:20px;
  border-radius:10px;
}
button{
  background:#00b4d8;
  border:none;
  padding:10px 20px;
  border-radius:5px;
  color:#000;
  font-weight:bold;
  margin-top:10px;
  cursor:pointer;
}
button:hover{background:#90e0ef;}
#feedback{
  font-weight:bold;
  margin-top:10px;
}
#hint{
  color:#adb5bd;
  margin-top:10px;
}
.hidden{display:none;}
</style>
</head>
<body>
<div class="container">
<h1>Escape the Digital Fortress</h1>
<p><strong>Grade Band:</strong> High School<br>
<strong>Topics:</strong> Phishing, Passwords</p>

<p>You are a cybersecurity analyst trapped inside a virtual fortress built to test advanced defenders. 
To escape, you must unlock five encrypted doors by identifying phishing tactics and securing passwords. 
Every correct answer decodes one security layer. Think critically—each lock will test your vigilance against deception.</p>

<div id="game">
  <div id="puzzle"></div>
  <div id="feedback"></div>
  <div id="hint"></div>
  <div>
    <button id="hintBtn">Hint</button>
    <button id="skipBtn">Skip</button>
  </div>
  <h3>Score: <span id="score">0</span>/5</h3>
</div>

<button id="downloadBtn">Download This Game (.html)</button>
</div>

<script>
window.__gameGrade = "high";
window.__gameTopics = "phishing,passwords";

const puzzles = [
  {
    id:1,
    type:"MCQ",
    question:"You receive an email claiming to be from your bank asking to confirm your password by clicking a provided link. What’s the smartest action?",
    choices:[
      "Click the link and submit your credentials quickly.",
      "Forward the email to a friend to ask if it’s real.",
      "Ignore the email and instead contact the bank directly using official contact info.",
      "Reply to the email asking for proof."
    ],
    answer:"Ignore the email and instead contact the bank directly using official contact info.",
    explanation:"Phishing emails mimic trusted sources to steal your data. Contact the bank through verified channels instead of clicking suspicious links.",
    hints:["Look for unexpected requests for sensitive info.","Official banks never ask for credentials by email.","Always confirm through official websites."]
  },
  {
    id:2,
    type:"SHORT",
    question:"A message urges you to act immediately to claim a cash prize. The sense of urgency is a characteristic of what phishing strategy?",
    answer:"urgent action",
    acceptable:["urgency","urgent action","sense of urgency","time pressure"],
    explanation:"Phishers use urgency to trick you into quick, careless actions. Recognizing it lets you pause and verify first.",
    hints:["Think about emotional triggers.","Scammers want you to rush.","Opposite of taking your time."]
  },
  {
    id:3,
    type:"MATCH",
    question:"Match the clue to the best secure behavior:",
    pairs:[
      {left:"An email from 'support@amazn.com' asking you to verify account info",right:"Check sender’s address carefully and do not click fake links"},
      {left:"A link with a misspelled domain",right:"Hover over the link to verify real destination"},
      {left:"A request for password reset you didn’t initiate",right:"Ignore and report suspected phishing"}
    ],
    explanation:"Matching these behaviors with the right clues strengthens your phishing detection aligned to standard NICE-K12-PHISH-3.",
    hints:["Typos in addresses matter.","Hover before you click.","Ignore unexpected password resets."]
  },
  {
    id:4,
    type:"MCQ",
    question:"You create a password: 'Password123!'. How secure is it?",
    choices:[
      "Extremely secure—it has numbers and a symbol.",
      "Weak—common word with predictable pattern.",
      "Okay—if used only once.",
      "Completely unbreakable."
    ],
    answer:"Weak—common word with predictable pattern.",
    explanation:"Even with symbol or numbers, predictable words are easily cracked. Use random combinations or passphrases.",
    hints:["Think of dictionary attacks.","Common words are risky.","Randomness equals strength."]
  },
  {
    id:5,
    type:"SHORT",
    question:"Multi-Factor Authentication (MFA) adds which extra layer of security beyond passwords?",
    answer:"a second factor",
    acceptable:["second factor","verification code","additional verification","extra step","token","authenticator code"],
    explanation:"MFA demands another proof of identity—like a code—to block phishing even if passwords are stolen.",
    hints:["Think of one more check.","Usually a one-time code.","Used on your phone or app."]
  }
];

let current = 0;
let score = 0;

const puzzleDiv = document.getElementById('puzzle');
const feedback = document.getElementById('feedback');
const hintDiv = document.getElementById('hint');
const hintBtn = document.getElementById('hintBtn');
const skipBtn = document.getElementById('skipBtn');
const scoreSpan = document.getElementById('score');

function renderPuzzle(){
  feedback.innerHTML = '';
  hintDiv.innerHTML = '';
  const p = puzzles[current];
  let html = `<h2>Lock ${p.id}: ${p.question}</h2>`;
  if(p.type==="MCQ"){
    html += p.choices.map(c=>`<button class='choiceBtn'>${c}</button>`).join("<br>");
  } else if(p.type==="SHORT"){
    html += "<input id='shortAnswer' placeholder='Type your answer'><br><button id='submitShort'>Submit</button>";
  } else if(p.type==="MATCH"){
    html += "<table>";
    p.pairs.forEach((pair,i)=>{
      html += `<tr><td>${pair.left}</td><td><input id='match${i}' placeholder='Your matched behavior'></td></tr>`;
    });
    html += "</table><button id='submitMatch'>Submit</button>";
  }
  puzzleDiv.innerHTML = html;

  document.querySelectorAll('.choiceBtn').forEach(btn=>{
    btn.onclick=function(){
      checkAnswer(this.textContent);
    };
  });
  const submitShort=document.getElementById('submitShort');
  if(submitShort){
    submitShort.onclick=function(){
      checkAnswer(document.getElementById('shortAnswer').value);
    };
  }
  const submitMatch=document.getElementById('submitMatch');
  if(submitMatch){
    submitMatch.onclick=function(){
      const answers=[];
      p.pairs.forEach((pair,i)=>{
        answers.push(document.getElementById('match'+i).value);
      });
      checkAnswer(answers);
    };
  }
}

function checkAnswer(ans){
  const p=puzzles[current];
  let correct=false;
  if(p.type==="MCQ"){
    correct = ans.trim().toLowerCase()===p.answer.trim().toLowerCase();
  } else if(p.type==="SHORT"){
    correct = p.acceptable.some(a=>ans.trim().toLowerCase().includes(a));
  } else if(p.type==="MATCH"){
    correct = p.pairs.every((pair,i)=>ans[i].toLowerCase().includes(pair.right.split(" ")[0].toLowerCase().substring(0,3)));
  }
  if(correct){
    feedback.style.color="#72efdd";
    feedback.textContent="Correct! "+p.explanation+" You unlocked the door!";
    score++;
    scoreSpan.textContent=score;
  } else {
    feedback.style.color="#ff6b6b";
    feedback.textContent="Incorrect! "+p.explanation+" The lock resists...";
  }
  current++;
  if(current<puzzles.length){
    setTimeout(renderPuzzle,1500);
  } else {
    setTimeout(endGame,1500);
  }
}

function endGame(){
  puzzleDiv.innerHTML="<h2>All locks open!</h2><p>You’ve escaped the Digital Fortress with a score of "+score+"/5. Remember, analyzing phishing emails carefully is your best defense. Stay vigilant!</p>";
  feedback.innerHTML="";
  hintDiv.innerHTML="";
}

hintBtn.onclick=function(){
  const p=puzzles[current];
  const hintIndex = Math.floor(Math.random()*p.hints.length);
  hintDiv.textContent="Hint: "+p.hints[hintIndex];
};

skipBtn.onclick=function(){
  current++;
  if(current<puzzles.length){
    renderPuzzle();
  } else {
    endGame();
  }
};

renderPuzzle();

// Download button logic
document.getElementById('downloadBtn').onclick=function(){
  const blob=new Blob([document.documentElement.outerHTML],{type:"text/html"});
  const a=document.createElement('a');
  const filename=`EscapeRoom_${window.__gameGrade}_${window.__gameTopics}.html`;
  a.href=URL.createObjectURL(blob);
  a.download=filename;
  a.click();
};
</script>
</body>
</html>
```